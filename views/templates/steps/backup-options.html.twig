{% extends "@ModuleAutoUpgrade/layouts/step-content.html.twig" %}

{% block page_class %}backup-page{% endblock %}

{% block title %}
  <h2>{{ 'Back up your store'|trans({}) }}</h2>
{% endblock %}

{% block content %}
  <div class="backup-page__container">
    <div class="backup-page__section">
      <p>
        {{ "Backing up your store's files, database, and images means you can restore to a previous version if something goes wrong during the update. This keeps your data safe and ensures your business stays up and running."|trans({}) }}
      </p>
    </div>

    <div class="backup-page__section">
      <form 
        class="update-backup-page__field-list"
        action=""
        data-route-to-save="{{ form_route_to_save }}"
        data-route-to-submit-backup="{{ form_route_to_submit_backup }}"
        data-route-to-submit-update="{{ form_route_to_submit_update }}"
        data-route-to-confirm-backup="{{ form_route_to_confirm_backup }}"
        data-route-to-confirm-update="{{ form_route_to_confirm_update }}"
        id="update-backup-page-form"
        name="update-backup-page-form"
      >
        {% include "@ModuleAutoUpgrade/components/render-switch.html.twig" with {
          id: form_fields.include_images.field,
          name: form_fields.include_images.field,
          title: 'Include images in your backup'|trans({}),
          value: form_fields.include_images.value,
          error_message: errors[form_fields.include_images.field] is defined ? errors[form_fields.include_images.field] : null,
        } %}
      </form>
    </div>
  </div>
{% endblock %}

{% block buttons_inner %}
  <button class="btn btn-lg btn-default" type="button"
    id="update-backup-page-skip-btn"
  >
    {{ 'Update without backup'|trans({}) }}
  </button>
  <button class="btn btn-lg btn-primary" type="submit"
    form="update-backup-page-form"
  >
    {{ 'Launch backup'|trans({}) }}
  </button>
{% endblock %}
